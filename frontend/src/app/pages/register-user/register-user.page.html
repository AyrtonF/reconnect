<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button fill="clear" (click)="goBack()">
        <ion-icon name="chevron-back-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Cadastro de Usuário</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="container">
    <div class="title">
      <h2>Crie sua conta</h2>
      <p class="subtitle">Preencha os dados para se cadastrar como usuário</p>
    </div>

    <form (ngSubmit)="register()">
      <div class="form-group">
        <label>Nome completo</label>
        <ion-input
          type="text"
          placeholder="Digite seu nome completo"
          [(ngModel)]="name"
          name="name"
          required
          class="input"
        ></ion-input>
      </div>

      <div class="form-group">
        <label>Email</label>
        <ion-input
          type="email"
          placeholder="Digite seu email"
          [(ngModel)]="email"
          name="email"
          required
          class="input"
        ></ion-input>
      </div>

      <div class="form-group">
        <label>Telefone</label>
        <ion-input
          type="tel"
          placeholder="(00) 00000-0000"
          [(ngModel)]="phone"
          name="phone"
          required
          class="input"
        ></ion-input>
      </div>

      <div class="form-group">
        <label>Senha</label>
        <ion-input
          [type]="showPassword ? 'text' : 'password'"
          placeholder="Digite sua senha"
          [(ngModel)]="password"
          name="password"
          required
          class="input"
        >
          <ion-icon
            name="{{ showPassword ? 'eye-off-outline' : 'eye-outline' }}"
            slot="end"
            (click)="togglePasswordVisibility()"
          ></ion-icon>
        </ion-input>
      </div>

      <div class="form-group">
        <label>Confirmar senha</label>
        <ion-input
          [type]="showConfirmPassword ? 'text' : 'password'"
          placeholder="Confirme sua senha"
          [(ngModel)]="confirmPassword"
          name="confirmPassword"
          required
          class="input"
        >
          <ion-icon
            name="{{ showConfirmPassword ? 'eye-off-outline' : 'eye-outline' }}"
            slot="end"
            (click)="toggleConfirmPasswordVisibility()"
          ></ion-icon>
        </ion-input>
      </div>

      <ion-button
        expand="block"
        class="register-button"
        type="submit"
        [disabled]="isLoading"
      >
        <ion-spinner *ngIf="isLoading" name="circular"></ion-spinner>
        {{ isLoading ? 'Cadastrando...' : 'Criar conta' }}
      </ion-button>
    </form>

    <div class="login-link">
      Já possui conta?
      <a (click)="goToLogin()">Faça login</a>
    </div>
  </div>
</ion-content>
